<section class="gallery" id="gallery">
  <h2 class="visually-hidden">Gallery</h2>

  {% assign all_projects = collections.animation | sort: "feature" %} {% assign
  featured_projects = all_projects | where: "data.feature", "yes" %} {% assign
  non_featured_projects = all_projects | where: "data.feature", "no" %} {%
  assign all_projects = featured_projects | concat: non_featured_projects %} {%
  for project in all_projects %}
  <div class="gallery-item-wrapper">
    <div class="image-container">
      <a href="{{ project.url }}" class="video-link">
        {% if project.data.video %}
        <video
          autoplay
          muted
          loop
          playsinline
          class="gallery__video"
          poster="{{ project.data.image | default: '/assets/img/og-image.jpg' }}"
        >
          <source src="{{ project.data.video }}" type="video/mp4" />
          Your browser does not support the video tag.
        </video>
        {% else %}
        <img
          src="{{ project.data.image | default: '/assets/img/og-image.jpg' }}"
          alt="Placeholder for {{ project.data.client }}"
          class="gallery__image"
          loading="lazy"
        />
        {% endif %}
        <div class="hover-overlay">
          <p
            class="gallery__client no-animation"
            style="font-family: Rethink Sans"
          >
            {{ project.data.client }}
          </p>
          <p class="gallery__title no-animation">
            <b>{{ project.data.title }}</b>
          </p>
          <p
            class="gallery__subtitle small no-animation"
            style="font-family: Rethink Sans"
          >
            {{ project.data.scope }}
          </p>
        </div>
      </a>
      <div class="image-title">
        <a href="{{ project.url }}">
          <h2 class="gallery__title">{{ project.data.client }}</h2>
        </a>
      </div>
    </div>
  </div>
  {% endfor %}
</section>
