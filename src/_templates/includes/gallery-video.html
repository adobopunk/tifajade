<section class="gallery" id="gallery">
  <h2 class="visually-hidden">Gallery</h2>

  {% assign all_projects = collections.video | sort: "feature" %} {% assign
  featured_projects = all_projects | where: "data.feature", "yes" %} {% assign
  non_featured_projects = all_projects | where: "data.feature", "no" %} {%
  assign all_projects = featured_projects | concat: non_featured_projects %} {%
  for project in all_projects %}
  <div class="image-container">
    <a href="{{ project.url }}" class="video-link">
      {% if project.data.video %}
      <!-- Linked Video File -->
      <video
        autoplay
        muted
        loop
        playsinline
        class="gallery__video"
        poster="{{ project.data.image | default: '/assets/img/og-image.jpg' }}"
      >
        <source src="{{ project.data.video }}" type="video/mp4" />
        Your browser does not support the video tag.
      </video>

      {% else %}
      <!-- Fallback Image -->
      <img
        src="{{ project.data.image | default: '/assets/img/og-image.jpg' }}"
        alt="Placeholder for {{ project.data.title }}"
        class="gallery__image"
        loading="lazy"
      />
      {% endif %}
    </a>
  </div>

  <div class="image-title">
    <a href="{{ project.url }}">
      <h2 class="gallery__title">{{ project.data.title }}</h2>
    </a>
    <a href="{{ project.url }}">
      <p class="gallery__subtitle">{{ project.data.subtitle }}</p>
    </a>
  </div>
  {% endfor %}
</section>

<a href="/index.html"><button>See Animation Projects</button></a>
